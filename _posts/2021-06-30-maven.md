---
layout: single
title:  "maven"
categories: 
  - Java
tags: 
  - maven
toc: true
toc_sticky: true
date: 2021-06-30
last_modified_at: 2021-07-02
---

## ğŸ€maven

ìë°” ë¹Œë“œë¥¼ ë„ì™€ì£¼ëŠ” <u>ë¹Œë“œíˆ´</u>ì´ë‹¤. `Gradle`, `Ant` ë“±ì´ ìˆë‹¤.

#### ğŸŒ² ë¹Œë“œ ê³¼ì •

![maven Build tool](https://user-images.githubusercontent.com/73654909/124113965-fda7f000-daa6-11eb-805c-9b5f54e1cded.jpg)

í”„ë¡œì íŠ¸ ìƒì„±ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì„¤ì • ì‘ì—…ì„ í•˜ëŠ” ê²ƒì„ ë¹Œë“œíˆ´ì´ë¼ê³  í•œë‹¤.

#### ğŸŒ² ì„¤ì¹˜ ë°©ë²•

1. [Apache Maven](https://maven.apache.org/){:target="_blank"}ì— ì ‘ì†í•˜ì—¬ `Binary zip archive`ì„ ë‹¤ìš´ë°›ê³  ì ë‹¹í•œ ìœ„ì¹˜ì— ì••ì¶•ì„ í‘¼ë‹¤.
2. <u>í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •</u>í•œë‹¤. `%M2_HOME%`ì— ì„¤ì¹˜ê²½ë¡œë¥¼ ì‘ì„±í•˜ê³ , `path`ì— `%M2_HOME%\bin` ì‘ì„±í•˜ì—¬ ë“±ë¡í•œë‹¤.
3. cmd ì°½ì„ ì—´ì–´ `mvn -version`ì„ ì…ë ¥í•˜ì—¬ ì˜ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.

#### ğŸŒ² ì‚¬ìš©ë²•

##### ğŸ ìë°” í”„ë¡œì íŠ¸ ìƒì„±

```
mvn archetype:generate -D	//archetype ìƒì„±
groupId=ê·¸ë£¹ ì´ë¦„ -D		//ê·¸ë£¹ ì´ë¦„ ì„¤ì • (íŒ¨í‚¤ì§€ì™€ ë¹„ìŠ·)
artifactId=í”„ë¡œì íŠ¸ ì´ë¦„ -D	//í”„ë¡œì íŠ¸ ì´ë¦„ ì„¤ì •
archetypeArtifactId=maven-archetype-quickstart	//ìë°” ê°œë°œì‹œ ì´ìš©ë˜ëŠ” ê¸°ë³¸ í…œí”Œë¦¿
```

##### ğŸ ì»´íŒŒì¼

â—ì£¼ì˜ì‚¬í•­ : `pom.xml`, `src`ê°€ <u>ì¡´ì¬í•˜ëŠ” í´ë”ì—ì„œ ì‹¤í–‰</u>í•´ì•¼ í•˜ê³ , cmdì— `mvn compile`ì„ ì…ë ¥í•˜ë©´ ì»´íŒŒì¼ì´ ì‘ë™í•œë‹¤. ë§Œì•½, ë” ì´ìƒ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë²„ì „ì´ë¼ ì—…ë°ì´íŠ¸ í•˜ë¼ê³  ëœ¨ë©´ ì•„ë˜ ì½”ë“œë¥¼ `pom.xml`ì— ì‘ì„±í•œë‹¤. ì„¤ì •í•˜ì§€ ì•Šì•˜ì„ì‹œ ë©”ì´ë¸ì˜ í€µìŠ¤íƒ€íŠ¸ ë²„ì „ì˜ ê¸°ë³¸ JDK1.5ë²„ì „ì´ ì‚¬ìš©ëœë‹¤.

```xml
</dependencies>    
	...
	<properties>
	   	<maven.compiler.source>1.8</maven.compiler.source>
		<maven.compiler.target>1.8</maven.compiler.target>
	</properties>
	...
</project>
```

mvn <u>íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ê³  ì‹¶ìœ¼ë©´</u> `mvn package`ë¥¼ cmdì— ì…ë ¥í•˜ë©´ `.jar`íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤. ì´ jaríŒŒì¼ì˜ í™•ì¥ìë¥¼ `.zip`ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ë‚´ìš©ì„ í™•ì¸ í•  ìˆ˜ ìˆëŠ”ë° ì•ˆì—ëŠ” ì‹¤í–‰íŒŒì¼ì¸ `.class`íŒŒì¼ì´ ë“¤ì–´ìˆë‹¤. ì´ë¥¼ ì•„ë˜ ë°©ë²•ì„ ì´ìš©í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

```
java -cp target\ë¼ì´ë¸ŒëŸ¬ë¦¬.jar í´ë˜ìŠ¤ì´ë¦„
```

##### ğŸ ì‹¤í–‰ ìˆœì„œ (LifeCycle)

Mavenì€ [Default LifeCycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference){:target="_blank"} ì„ ë”°ë¼ `compile, test, package`ë“± <u>ì›í•˜ëŠ” ìœ„ì¹˜ê¹Œì§€ ìë™ìœ¼ë¡œ ì‹¤í–‰</u>í•´ ì¤€ë‹¤. ì´ëŠ” ìë°”, ì›¹ì— ë”°ë¼ ë‹¨ê³„ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, <u>ì¼ë°˜ì ìœ¼ë¡œëŠ” ë‹¨ê³„ê°€ ë¹„ìŠ·</u>í•˜ë‹¤. ê·¸ë¦¬ê³  íŒ¨í‚¤ì§•ì€ `jar,war`ë“±ìœ¼ë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•œë° ì´ëŠ” `pom.xml(Project Object Model)`ì—ì„œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.

###### ğŸ‚ Phase, Plug-in, Goal

ê° ë‹¨ê³„ë³„(`Phase`) í”„ë¡œê·¸ë¨ë“¤ì´ ë§µí•‘ë˜ì–´ ìˆê³  <u>ê° ë‹¨ê³„ë³„ ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨</u>ì„ `Plug-in`ì´ë¼ í•˜ê³  mavenì´ ì œê³µí•˜ëŠ” [ê¸°ë³¸í”ŒëŸ¬ê·¸ì¸](https://maven.apache.org/plugins/index.html)ê³¼ ë‹¤ë¥¸ ê³³ì—ì„œ êµ¬í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ ìˆë‹¤. `Plug-in` ë‚´ë¶€ì˜ í”„ë¡œê·¸ë¨ì„ `Goal`ì´ë¼í•˜ê³ , <u>í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì •í•˜ê³  êµì²´í•˜ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ëŠ” ê²ƒ</u>ì´ `pom.xml`ì´ë‹¤. ì•„ë˜ëŠ” compileì‹œ í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì¶œë ¥í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤. 

```
mvn help:describe -Dcmd=compile
ê²°ê³¼>
It is a part of the lifecycle for the POM packaging 'jar'. This lifecycle includes the following phases:
* validate: Not defined
* initialize: Not defined
* generate-sources: Not defined
* process-sources: Not defined
* generate-resources: Not defined
* process-resources: org.apache.maven.plugins:maven-resources-plugin:2.6:resources
* compile: org.apache.maven.plugins:maven-compiler-plugin:3.1:compile
* process-classes: Not defined
* generate-test-sources: Not defined
* process-test-sources: Not defined
* generate-test-resources: Not defined
* process-test-resources: org.apache.maven.plugins:maven-resources-plugin:2.6:testResources
* test-compile: org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile
* process-test-classes: Not defined
* test: org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test
* prepare-package: Not defined
* package: org.apache.maven.plugins:maven-jar-plugin:2.4:jar
* pre-integration-test: Not defined
* integration-test: Not defined
* post-integration-test: Not defined
* verify: Not defined
* install: org.apache.maven.plugins:maven-install-plugin:2.4:install
* deploy: org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy
```

ìœ„ì˜ ê²°ê³¼ì¤‘ `compile`ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ `pom.xml`ì„ ì´ìš©í•˜ì—¬ JDKë²„ì „ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

```xml
	...  
</dependencies>
  <!-- í”ŒëŸ¬ê·¸ì¸ ì¬ì •ì˜ (override)-->
  <build>
  	<plugins>
  		<plugin>
  			<!-- í”ŒëŸ¬ê·¸ì¸ ì´ë¦„ -->
	  		<artifactId>maven-compiler-plugin</artifactId>
            		<!-- í”ŒëŸ¬ê·¸ì¸ ë²„ì „ -->
	  		<version>3.8.1</version>
	  		<configuration>
	  			<source>1.8</source>
	  			<target>1.8</target>
	  		</configuration>
  		</plugin>
  	</plugins>
  </build>
</project>
```

![Eclipse_maven_2](https://user-images.githubusercontent.com/73654909/124161486-6d829e80-dad8-11eb-9e9f-07f9c93b4c35.jpg)

í”ŒëŸ¬ê·¸ì¸ì˜ ë²„ì „ì´ ì˜¬ë¼ê°ì— ë”°ë¼ `source,target`ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ë•ŒëŠ” ì˜¤ë²„ë¼ì´ë“œí•˜ë“¯ ì ìš©í•  í•„ìš” ì—†ì´ ìœ„í•´ì„œ ì‘ì„±í•œ `maven.compiler.source, target` ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•´ë„ ëœë‹¤. ë‹¤ë§Œ, <u>í”ŒëŸ¬ê·¸ì¸ì´ ê°€ì§„ ìì„¸í•œ ì†ì„±ì„ ì‚¬ìš©í•˜ê³ ì í• ë•Œ</u>ëŠ” `ì˜¤ë²„ë¼ì´ë“œ ë°©ì‹`ì„ ì´ìš©í•œë‹¤.

