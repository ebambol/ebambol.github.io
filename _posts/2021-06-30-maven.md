---
layout: single
title:  "Maven"
categories: 
  - Java
tags: 
  - Maven
toc: true
toc_sticky: true
date: 2021-06-30
last_modified_at: 2021-07-07
---

{% capture notice-2 %}

ğŸ’¡ ì´ ê¸€ì€ [ë‰´ë ‰ì²˜ Mavenê°•ì˜](https://youtu.be/VAp0n9DmeEA)ë¥¼ ë“£ê³  ë³µìŠµì„ ëª©ì ìœ¼ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.

{% endcapture %}

<div class="notice--primary">{{ notice-2 | markdownify }}</div>

## ğŸ€maven

ìë°” ë¹Œë“œë¥¼ ë„ì™€ì£¼ëŠ” <u>ë¹Œë“œíˆ´</u>ì´ë‹¤. `Gradle`, `Ant` ë“±ì´ ìˆë‹¤.

#### ğŸŒ² ë¹Œë“œ ê³¼ì •

![maven Build tool](https://user-images.githubusercontent.com/73654909/124113965-fda7f000-daa6-11eb-805c-9b5f54e1cded.jpg)

í”„ë¡œì íŠ¸ ìƒì„±ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì„¤ì • ì‘ì—…ì„ í•˜ëŠ” ê²ƒì„ ë¹Œë“œíˆ´ì´ë¼ê³  í•œë‹¤.

#### ğŸŒ² ì„¤ì¹˜ ë°©ë²•

1. [Apache Maven](https://maven.apache.org/){:target="_blank"}ì— ì ‘ì†í•˜ì—¬ `Binary zip archive`ì„ ë‹¤ìš´ë°›ê³  ì ë‹¹í•œ ìœ„ì¹˜ì— ì••ì¶•ì„ í‘¼ë‹¤.
2. <u>í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •</u>í•œë‹¤. `%M2_HOME%`ì— ì„¤ì¹˜ê²½ë¡œë¥¼ ì‘ì„±í•˜ê³ , `path`ì— `%M2_HOME%\bin` ì‘ì„±í•˜ì—¬ ë“±ë¡í•œë‹¤.
3. cmd ì°½ì„ ì—´ì–´ `mvn -version`ì„ ì…ë ¥í•˜ì—¬ ì˜ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.

#### ğŸŒ² ì‚¬ìš©ë²•

##### ğŸ ìë°” í”„ë¡œì íŠ¸ ìƒì„±

```
mvn archetype:generate -D	//archetype ìƒì„±
groupId=ê·¸ë£¹ ì´ë¦„ -D		//ê·¸ë£¹ ì´ë¦„ ì„¤ì • (íŒ¨í‚¤ì§€ì™€ ë¹„ìŠ·)
artifactId=í”„ë¡œì íŠ¸ ì´ë¦„ -D	//í”„ë¡œì íŠ¸ ì´ë¦„ ì„¤ì •
archetypeArtifactId=maven-archetype-quickstart	//ìë°” ê°œë°œì‹œ ì´ìš©ë˜ëŠ” ê¸°ë³¸ í…œí”Œë¦¿
```

##### ğŸ ì»´íŒŒì¼

{: .notice--warning}

â— ì£¼ì˜ì‚¬í•­ : `pom.xml`, `src`ê°€ <u>ì¡´ì¬í•˜ëŠ” í´ë”ì—ì„œ ì‹¤í–‰</u>í•´ì•¼ í•˜ê³ , cmdì— `mvn compile`ì„ ì…ë ¥í•˜ë©´ ì»´íŒŒì¼ì´ ì‘ë™í•œë‹¤. 



ë” ì´ìƒ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë²„ì „ì´ë¼ ì—…ë°ì´íŠ¸ í•˜ë¼ê³  ëœ¨ë©´ ì•„ë˜ ì½”ë“œë¥¼ `pom.xml`ì— ì‘ì„±í•œë‹¤. ì„¤ì •í•˜ì§€ ì•Šì•˜ì„ì‹œ ë©”ì´ë¸ì˜ í€µìŠ¤íƒ€íŠ¸ ë²„ì „ì˜ ê¸°ë³¸ JDK1.5ë²„ì „ì´ ì‚¬ìš©ëœë‹¤.

```xml
</dependencies>    
	...
	<properties>
	   	<maven.compiler.source>1.8</maven.compiler.source>
		<maven.compiler.target>1.8</maven.compiler.target>
	</properties>
	...
</project>
```

mvn <u>íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ê³  ì‹¶ìœ¼ë©´</u> `mvn package`ë¥¼ cmdì— ì…ë ¥í•˜ë©´ `.jar`íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤. ì´ jaríŒŒì¼ì˜ í™•ì¥ìë¥¼ `.zip`ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ë‚´ìš©ì„ í™•ì¸ í•  ìˆ˜ ìˆëŠ”ë° ì•ˆì—ëŠ” ì‹¤í–‰íŒŒì¼ì¸ `.class`íŒŒì¼ì´ ë“¤ì–´ìˆë‹¤. ì´ë¥¼ ì•„ë˜ ë°©ë²•ì„ ì´ìš©í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

```
java -cp target\ë¼ì´ë¸ŒëŸ¬ë¦¬.jar í´ë˜ìŠ¤ì´ë¦„
```

##### ğŸ ì‹¤í–‰ ìˆœì„œ (LifeCycle)

Mavenì€ [Default LifeCycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference){:target="_blank"} ì„ ë”°ë¼ `compile, test, package`ë“± <u>ì›í•˜ëŠ” ìœ„ì¹˜ê¹Œì§€ ìë™ìœ¼ë¡œ ì‹¤í–‰</u>í•´ ì¤€ë‹¤. ì´ëŠ” ìë°”, ì›¹ì— ë”°ë¼ ë‹¨ê³„ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, <u>ì¼ë°˜ì ìœ¼ë¡œëŠ” ë‹¨ê³„ê°€ ë¹„ìŠ·</u>í•˜ë‹¤. ê·¸ë¦¬ê³  íŒ¨í‚¤ì§•ì€ `jar,war`ë“±ìœ¼ë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•œë° ì´ëŠ” `pom.xml(Project Object Model)`ì—ì„œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.

###### ğŸ‚ Phase, Plug-in, Goal

ê° ë‹¨ê³„ë³„(`Phase`) í”„ë¡œê·¸ë¨ë“¤ì´ ë§µí•‘ë˜ì–´ ìˆê³  <u>ê° ë‹¨ê³„ë³„ ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨</u>ì„ `Plug-in`ì´ë¼ í•˜ê³  mavenì´ ì œê³µí•˜ëŠ” [ê¸°ë³¸í”ŒëŸ¬ê·¸ì¸](https://maven.apache.org/plugins/index.html)ê³¼ ë‹¤ë¥¸ ê³³ì—ì„œ êµ¬í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ ìˆë‹¤. `Plug-in` ë‚´ë¶€ì˜ í”„ë¡œê·¸ë¨ì„ `Goal`ì´ë¼í•˜ê³ , <u>í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì •í•˜ê³  êµì²´í•˜ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ëŠ” ê²ƒ</u>ì´ `pom.xml`ì´ë‹¤. ì•„ë˜ëŠ” compileì‹œ í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì¶œë ¥í•˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤. 

```
mvn help:describe -Dcmd=compile
ê²°ê³¼>
It is a part of the lifecycle for the POM packaging 'jar'. This lifecycle includes the following phases:
* validate: Not defined
* initialize: Not defined
* generate-sources: Not defined
* process-sources: Not defined
* generate-resources: Not defined
* process-resources: org.apache.maven.plugins:maven-resources-plugin:2.6:resources
* compile: org.apache.maven.plugins:maven-compiler-plugin:3.1:compile
* process-classes: Not defined
* generate-test-sources: Not defined
* process-test-sources: Not defined
* generate-test-resources: Not defined
* process-test-resources: org.apache.maven.plugins:maven-resources-plugin:2.6:testResources
* test-compile: org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile
* process-test-classes: Not defined
* test: org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test
* prepare-package: Not defined
* package: org.apache.maven.plugins:maven-jar-plugin:2.4:jar
* pre-integration-test: Not defined
* integration-test: Not defined
* post-integration-test: Not defined
* verify: Not defined
* install: org.apache.maven.plugins:maven-install-plugin:2.4:install
* deploy: org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy
```

ìœ„ì˜ ê²°ê³¼ì¤‘ `compile`ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ `pom.xml`ì„ ì´ìš©í•˜ì—¬ JDKë²„ì „ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

```xml
	...  
</dependencies>
  <!-- í”ŒëŸ¬ê·¸ì¸ ì¬ì •ì˜ (override)-->
  <build>
  	<plugins>
  		<plugin>
  			<!-- í”ŒëŸ¬ê·¸ì¸ ì´ë¦„ -->
	  		<artifactId>maven-compiler-plugin</artifactId>
            		<!-- í”ŒëŸ¬ê·¸ì¸ ë²„ì „ -->
	  		<version>3.8.1</version>
	  		<configuration>
	  			<source>1.8</source>
	  			<target>1.8</target>
	  		</configuration>
  		</plugin>
  	</plugins>
  </build>
</project>
```

![Eclipse_maven_2](https://user-images.githubusercontent.com/73654909/124161486-6d829e80-dad8-11eb-9e9f-07f9c93b4c35.jpg)

í”ŒëŸ¬ê·¸ì¸ì˜ ë²„ì „ì´ ì˜¬ë¼ê°ì— ë”°ë¼ `source,target`ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ë•ŒëŠ” ì˜¤ë²„ë¼ì´ë“œí•˜ë“¯ ì ìš©í•  í•„ìš” ì—†ì´ ìœ„í•´ì„œ ì‘ì„±í•œ `maven.compiler.source, target` ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•´ë„ ëœë‹¤. ë‹¤ë§Œ, <u>í”ŒëŸ¬ê·¸ì¸ì´ ê°€ì§„ ìì„¸í•œ ì†ì„±ì„ ì‚¬ìš©í•˜ê³ ì í• ë•Œ</u>ëŠ” `ì˜¤ë²„ë¼ì´ë“œ ë°©ì‹`ì„ ì´ìš©í•œë‹¤.

#### ğŸŒ² ì›¹í”„ë¡œì íŠ¸ë¡œ ë³€ê²½ë²•

`pom.xml`ì—ì„œ `packaging`ì„ jarì—ì„œ warë¡œ ë³€ê²½í•¨ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ì›¹ê°œë°œí•˜ê¸° ìœ„í•œ í”„ë¡œì íŠ¸ë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤. ë³€ê²½í•˜ì—¬ ì €ì¥í•˜ê²Œ ë˜ë©´ ë°”ë¡œ ë³€ê²½ë˜ì§€ ì•Šê³ , í”„ë¡œì íŠ¸ë¥¼ ìš°í´ë¦­ í•˜ì—¬ `Maven - Update Project...` ì„ ì´ìš©í•˜ë„ë¡ í•˜ì.

```xml
<!--ë³€ê²½ì „-->
<packaging>jar</packaging>
<!--ë³€ê²½í›„-->
<packaging>war</packaging>
```

ì •ìƒì ìœ¼ë¡œ ìˆ˜ì •ë˜ë©´ `pom.xml`ì—ì„œ `web.xml is missing and <failOnMissingWebXml> is set to true` ë¼ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ëŠ” web.xmlì´ ì—†ì–´ì„œ ë‚˜íƒ€ë‚˜ëŠ” ì˜¤ë¥˜ë¡œ ì˜ë„ì ìœ¼ë¡œ ë§Œë“¤ì—ˆìœ¼ë©´ srcë°‘ì— <u>webapp(WebHome)ê´€ë ¨ í´ë”ì—ì„œ `WEB-INF`í´ë”ë¥¼ ì¶”ê°€</u>í•˜ê³  ì¶”ê°€í•œ í´ë”ì— í†°ìº£ í´ë”ì— ì¡´ì¬í•˜ëŠ” <u>`web.xml`ì„ ì¶”ê°€</u>í•˜ë©´ ì˜¤ë¥˜ê°€ ì‚¬ë¼ì§€ê³ , ì›¹í”„ë¡œì íŠ¸ë¡œ ë³€ê²½ì´ ì™„ë£Œëœë‹¤.

> web.xmlì€ í†°ìº£í´ë” ì•„ë˜ webapps\ROOT\WEB-INFì— ì¡´ì¬í•œë‹¤.

##### ğŸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •

jsp íŒŒì¼ì„ ìƒì„±í•˜ê²Œ ë˜ë©´ `The superclass "javax.servlet.http.HttpServlet" was not found on the Java` ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •ì„ í•´ë‹¬ë¼ëŠ” ì˜¤ë¥˜ì´ë‹¤. 

- 1. í”„ë¡œì íŠ¸ì—ì„œ ìš°í´ë¦­í•˜ì—¬ `Bulid Path - Configure Buld Path...`í´ë¦­ 
  2. <u>Library íƒ­ì—ì„œ Add Library í´ë¦­í›„ Server Runtime</u>ì„ í†µí•˜ì—¬ í†°ìº£ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì •í•œë‹¤. 

ì´ ë°©ë²•ì€ ë‹¤ë¥¸ ì¥ì†Œ(íšŒì‚¬,ì§‘)ì—ì„œ í†°ìº£ì„œë²„ì˜ ê²½ë¡œê°€ ì¼ì¹˜í•˜ì§€ ì•Šì•„ ê³„ì† ë³€ê²½í•´ì•¼í•œë‹¤. 

- ë‘ë²ˆì§¸ ë°©ë²•ì€ GitHubì²˜ëŸ¼ [Maven ì €ì¥ì†Œ](https://mvnrepository.com/)ë¥¼ ì´ìš©í•˜ì—¬ ì›ê²©ì— ì¡´ì¬í•˜ëŠ” íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë¡œì»¬ë¡œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì´ë‹¤. 
  1. [Maven ì €ì¥ì†Œ](https://mvnrepository.com/)ì— ë“¤ì–´ê°€ì„œ `tomcat jsp`ë¥¼ ê²€ìƒ‰í•˜ê²Œ ë˜ë©´ í†°ìº£ ë²„ì „ë³„ë¡œ jsp APIê°€ ë‚˜ì˜¤ëŠ”ë° ì›í•˜ëŠ” ë²„ì „ì„ í´ë¦­í›„ ë‚˜íƒ€ë‚˜ëŠ” <u>Maven ì½”ë“œë¥¼ ë³µì‚¬í•œë‹¤.</u>
  2. <u>`pom.xml`ì— `dependency`ë°‘ì— ë¶™ì—¬ë„£ìœ¼ë©´ ì›ê²©ì— ìˆëŠ” íŒŒì¼ì´ ë¡œì»¬ë¡œ ë³µì‚¬ëœë‹¤.</u> ë³µì‚¬ë˜ëŠ” ê²½ë¡œëŠ” `C:\Users\[ì‚¬ìš©ìì´ë¦„]\.m2\repository\org\apache\tomcat`ì´ë‹¤. ë‹¤ë¥¸ í™•ì¸ ë°©ë²•ìœ¼ë¡œëŠ” ì´í´ë¦½ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ `Java Resources-Libraries-Maven Dependencies`ë¥¼ í†µí•´ jsp-api ì´ì™¸ì— <u>el, servletì´ ìë™ìœ¼ë¡œ ì„¤ì¹˜ ëœê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</u>

